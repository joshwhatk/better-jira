!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}([function(e,t,n){n(1),n(2),n(3),e.exports=n(4)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._isPresent=null}return i(e,[{key:"isPresent",value:function(){if(null!==this._isPresent)return this._isPresent;try{var e=document.querySelector('meta[name="application-name"]');return this._isPresent="JIRA"===e.content}catch(e){return this._isPresent=!1}}},{key:"isNotPresent",value:function(){return!this.isPresent()}},{key:"hasLoadedSwimlanes",value:function(){return!!document.querySelector(".ghx-swimlane, #ghx-mapping, #jira-board > div > div")}},{key:"hasNotLoadedSwimlanes",value:function(){return!this.hasLoadedSwimlanes()}},{key:"columnsContainer",value:function(){return document.querySelector(".ghx-swimlane > .ghx-columns, #ghx-mapping, .aui-page-panel-content > #jira-board")}},{key:"columns",value:function(){return this.columnsContainer().querySelectorAll('.ghx-column, .ghx-column-wrapper, [class*="hook__column"]')}},{key:"content",value:function(){return document.getElementById("content")}}]),e}()),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var a=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id="ghx-detail-view",this.Storage=chrome.storage.sync,this.listening=!1,this.running=!0,this.manageMouseListener=this.manageMouse.bind(this)}return o(e,[{key:"run",value:function(){var e=this;if(r.isNotPresent())this.running=!1;else{var t=document.getElementById(this.id);t?t.addEventListener("mouseenter",function(){if(null===t.querySelector(".better-resize")){var n=document.createElement("div");n.classList.add("better-resize"),t.appendChild(n),t.querySelector(".better-resize").addEventListener("mousedown",function(t){t.preventDefault(),2!==t.button&&(document.addEventListener("mousemove",e.manageMouseListener),e.listening=!0)}),document.addEventListener("mouseup",function(t){e.listening&&(document.removeEventListener("mousemove",e.manageMouseListener),e.listening=!1,e.saveDetailViewWidth())})}}):this.running=!1}}},{key:"manageMouse",value:function(e){if(this.running){var t=window.innerWidth-e.pageX+2;document.documentElement.style.setProperty("--detail-view-width",t+"px")}}},{key:"saveDetailViewWidth",value:function(){this.running&&(console.log("ðŸ”§: Detail Width",document.documentElement.style.getPropertyValue("--detail-view-width")),this.Storage.set({detailViewWidth:document.documentElement.style.getPropertyValue("--detail-view-width")}))}}]),e}()),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var s=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cssClass="standup",this.instructionsCssClass="BetterJira-instructions",this.data={},this.running=!0}return u(e,[{key:"run",value:function(e){r.isNotPresent()?this.running=!1:e?this.initializeStandup():this._cleanupStandup()}},{key:"initializeStandup",value:function(){var e=this;if(this.running){if(this._listener=function(t){t.target.closest("[data-standup-close]")&&chrome.storage.sync.set({standup:!1},function(){e._cleanupStandup()})},document.addEventListener("click",this._listener),window.standup=!0,document.body.classList.add(this.cssClass),0===document.querySelectorAll("."+this.instructionsCssClass).length){var t=document.createElement("div");t.setAttribute("data-standup-close",""),t.classList.add(this.instructionsCssClass),t.innerHTML='\n        <span class="text">Close Standup Mode <span class="close">&nbsp;&plus;&nbsp;</span></span>\n      ',document.body.appendChild(t)}document.querySelector('[data-testid="rapidboard-breadcrumbs"]').style.display="none"}}},{key:"_cleanupStandup",value:function(){document.body.classList.remove(this.cssClass),window.standup=!1,document.removeEventListener("click",this._listener);var e=document.querySelector("."+this.instructionsCssClass);null!==e&&e.remove(),document.querySelector('[data-testid="rapidboard-breadcrumbs"]').style.display="block"}}]),e}()),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),document.addEventListener("click",function(e){var t=e.target.closest(".pullrequest-link, .repository-link, .branch-link, .create-pullrequest-link, .changesetid, .filename a, .filerow a.more-files-info");t&&(e.preventDefault(),window.open(t.href,"_blank").opener=null)})}return l(e,null,[{key:"initialize",value:function(){return new this}}]),e}(),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var h=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data={},this.Storage=chrome.storage.sync,this.running=!0,r.isNotPresent()?this.running=!1:(this._initialColumnResize(),this.Storage.get("standup",function(e){t._initiateStandup(e.standup)}),this._openGithubLinksInNewTabs())}return d(e,null,[{key:"initialize",value:function(){return new this}}]),d(e,[{key:"update",value:function(e){this._updateColumnWidths(e.detail),this._initiateStandup(e.detail.standup)}},{key:"_updateColumnWidths",value:function(e){if(this.running){if(!e.enabled)return document.body.classList.remove("better-jira"),void(document.getElementById("ghx-pool").style.width="auto");document.body.classList.add("better-jira"),this._getPreferredWidth(e)}}},{key:"_ifEnabled",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.running&&this.Storage.get("enabled",function(n){n.enabled?e():t()})}},{key:"_initialColumnResize",value:function(){var e=this;this.running&&setTimeout(function(){if(r.hasNotLoadedSwimlanes())return e._initialColumnResize();e._ifEnabled(function(){document.body.classList.add("better-jira"),e.Storage.get("columnWidth",e._getPreferredWidth.bind(e)),e._protectAgainstReactBoardReloading()},function(){document.body.classList.remove("better-jira"),document.getElementById("ghx-pool").style.width="auto"})},100)}},{key:"_getPreferredWidth",value:function(e){this.running&&(this.data.columnWidth=e.columnWidth,isNaN(this.data.columnWidth)&&(this.data.columnWidth=200),this._setPreferredWidth())}},{key:"_setPreferredWidth",value:function(){if(this.running){var e,t,n=void 0;if(e=this.data.columnWidth,!((n=(t=r.columns().length)*e+12*t)<10)){n<window.innerWidth&&(n="auto");try{var i={poolWidth:n};this.Storage.set(i),this._setPoolWidth(n)}catch(e){console.error(e)}}}}},{key:"_setPoolWidth",value:function(e){"auto"===e?document.getElementById("ghx-pool").style.width="auto":(document.getElementById("ghx-pool").style.width="var(--viewport-width)",document.documentElement.style.setProperty("--viewport-width",e+"px"))}},{key:"_setDetailViewWidth",value:function(e){document.documentElement.style.setProperty("--detail-view-width",e)}},{key:"_initiateStandup",value:function(e){s.run(e)}},{key:"_protectAgainstReactBoardReloading",value:function(){var e=this,t=new MutationObserver(function(n){n.find(function(e){return!(e.removedNodes<1)&&[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e.removedNodes)).find(function(e){return"ghx-pool-column"===e.id})})&&(t.disconnect(),e._initialColumnResize())});t.observe(r.content(),{childList:!0,subtree:!0})}},{key:"_openGithubLinksInNewTabs",value:function(){c.initialize()}}]),e}().initialize();a.run(),document.addEventListener("better-jira:updated",function(e){console.log("ðŸ”§: ",e.detail),h.update(e)})},function(e,t){},function(e,t){},function(e,t){}]);