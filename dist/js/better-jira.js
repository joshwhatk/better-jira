!function(e){var n={};function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s=0)}([function(e,n,t){t(1),t(2),t(3),e.exports=t(4)},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}();var r=new(function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this._isPresent=null,this._columnsContainer=null,this._columns=null}return i(e,[{key:"isPresent",value:function(){if(null!==this._isPresent)return this._isPresent;try{var e=document.querySelector('meta[name="application-name"]');return this._isPresent="JIRA"===e.content}catch(e){return this._isPresent=!1}}},{key:"isNotPresent",value:function(){return!this.isPresent()}},{key:"hasLoadedSwimlanes",value:function(){return!!document.querySelector(".ghx-swimlane, #ghx-mapping")}},{key:"hasNotLoadedSwimlanes",value:function(){return!this.hasLoadedSwimlanes()}},{key:"columnsContainer",value:function(){return null!==this._columnsContainer?this._columnsContainer:this._columnsContainer=document.querySelector(".ghx-swimlane > .ghx-columns, #ghx-mapping")}},{key:"columns",value:function(){return null!==this._columns?this._columns:this._columns=this.columnsContainer().querySelectorAll(".ghx-column, .ghx-column-wrapper")}},{key:"content",value:function(){return document.getElementById("content")}}]),e}()),o=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}();var u=new(function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.id="ghx-detail-view",this.Storage=chrome.storage.sync,this.listening=!1,this.running=!0,this.manageMouseListener=this.manageMouse.bind(this)}return o(e,[{key:"run",value:function(){var e=this;if(r.isNotPresent())this.running=!1;else{var n=document.getElementById(this.id);n?n.addEventListener("mouseenter",function(){if(null===n.querySelector(".better-resize")){var t=document.createElement("div");t.classList.add("better-resize"),n.appendChild(t),n.querySelector(".better-resize").addEventListener("mousedown",function(n){n.preventDefault(),2!==n.button&&(document.addEventListener("mousemove",e.manageMouseListener),e.listening=!0)}),document.addEventListener("mouseup",function(n){e.listening&&(document.removeEventListener("mousemove",e.manageMouseListener),e.listening=!1,e.saveDetailViewWidth())})}}):this.running=!1}}},{key:"manageMouse",value:function(e){if(this.running){var n=window.innerWidth-e.pageX+2;document.documentElement.style.setProperty("--detail-view-width",n+"px")}}},{key:"saveDetailViewWidth",value:function(){this.running&&(console.log("ðŸ”§: Detail Width",document.documentElement.style.getPropertyValue("--detail-view-width")),this.Storage.set({detailViewWidth:document.documentElement.style.getPropertyValue("--detail-view-width")}))}}]),e}()),a=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}();var s=new(function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.cssClass="standup",this.instructionsCssClass="instructions",this.data={},this.running=!0}return a(e,[{key:"run",value:function(e){r.isNotPresent()?this.running=!1:e?this.initializeStandup():this._cleanupStandup()}},{key:"initializeStandup",value:function(){var e=this;if(this.running){window.standup=!0,document.body.classList.add(this.cssClass);var n=document.createElement("div");n.setAttribute("standup-close",""),n.classList.add(this.instructionsCssClass),n.innerHTML='\n      <span class="text">Close Standup Mode <span class="close">&nbsp;&plus;&nbsp;</span></span>\n    ',document.body.appendChild(n),document.addEventListener("click",function(n){n.target.closest("[standup-close]")&&chrome.storage.sync.set({standup:!1},function(){e._cleanupStandup()})},{once:!0})}}},{key:"_cleanupStandup",value:function(){document.body.classList.remove(this.cssClass),window.standup=!1;var e=document.querySelector("."+this.instructionsCssClass);null!==e&&e.remove()}}]),e}()),l=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}();var c=function(){function e(){var n=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),document.addEventListener("click",function(e){var t=e.target.closest(".pullrequest-link, .repository-link, .branch-link, .create-pullrequest-link, .changesetid, .filename a, .filerow a.more-files-info");t&&(t.classList.contains("create-pullrequest-link")&&n.enableBetterCreatePullRequestLink(t),e.preventDefault(),window.open(t.href,"_blank"))})}return l(e,null,[{key:"initialize",value:function(){return new this}}]),l(e,[{key:"enableBetterCreatePullRequestLink",value:function(e){try{var n=e.parentElement.parentElement.querySelector(".branch-link").title;e.href=e.href+"/master..."+encodeURI(n)}catch(e){console.warn(e)}}}]),e}(),d=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}();var f=function(){function e(){var n=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.data={},this.Storage=chrome.storage.sync,this.running=!0,r.isNotPresent()?this.running=!1:(this._initialColumnResize(),this.Storage.get("standup",function(e){n._initiateStandup(e.standup)}),this._openGithubLinksInNewTabs())}return d(e,null,[{key:"initialize",value:function(){return new this}}]),d(e,[{key:"update",value:function(e){this._updateColumnWidths(e.detail),this._initiateStandup(e.detail.standup)}},{key:"_updateColumnWidths",value:function(e){this.running&&(e.enabled?(document.body.classList.add("better-jira"),this._getPreferredWidth(e)):document.body.classList.remove("better-jira"))}},{key:"_ifEnabled",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.running&&this.Storage.get("enabled",function(t){t.enabled?e():n()})}},{key:"_initialColumnResize",value:function(){var e=this;this.running&&setTimeout(function(){if(r.hasNotLoadedSwimlanes())return e._initialColumnResize();e._ifEnabled(function(){document.body.classList.add("better-jira"),e.Storage.get("columnWidth",e._getPreferredWidth.bind(e)),e._protectAgainstReactBoardReloading()},function(){document.body.classList.remove("better-jira")})},100)}},{key:"_getPreferredWidth",value:function(e){this.running&&(this.data.columnWidth=e.columnWidth,isNaN(this.data.columnWidth)&&(this.data.columnWidth=200),this._setPreferredWidth())}},{key:"_setPreferredWidth",value:function(){if(this.running){var e,n,t=void 0;if(e=this.data.columnWidth,!((t=(n=r.columns().length)*e+12*n)<10)){if(t<window.innerWidth){var i=document.querySelector("#gh");t=parseInt(i.offsetWidth)-parseInt(window.getComputedStyle(i,null).getPropertyValue("padding-left"))}try{var o={poolWidth:t};this.Storage.set(o),this._setPoolWidth(t)}catch(e){console.error(e)}}}}},{key:"_setPoolWidth",value:function(e){document.documentElement.style.setProperty("--viewport-width",e+"px")}},{key:"_setDetailViewWidth",value:function(e){document.documentElement.style.setProperty("--detail-view-width",e)}},{key:"_initiateStandup",value:function(e){s.run(e)}},{key:"_protectAgainstReactBoardReloading",value:function(){var e=this,n=new MutationObserver(function(t){t.find(function(e){return!(e.removedNodes<1)&&[].concat(function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}(e.removedNodes)).find(function(e){return"ghx-pool-column"===e.id})})&&(n.disconnect(),e._initialColumnResize())});n.observe(r.content(),{childList:!0,subtree:!0})}},{key:"_openGithubLinksInNewTabs",value:function(){c.initialize()}}]),e}().initialize();u.run(),document.addEventListener("better-jira:updated",function(e){console.log("ðŸ”§: ",e.detail),f.update(e)})},function(e,n){},function(e,n){},function(e,n){}]);